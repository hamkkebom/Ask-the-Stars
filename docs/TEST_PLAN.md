# ðŸ§ª í…ŒìŠ¤íŠ¸ ê³„íš (Test Plan)

> **ì „ëžµ**: ì†ë„ì™€ ì•ˆì •ì„±ì˜ ê· í˜•. ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ë¹ ë¥´ê²Œ, E2EëŠ” í•µì‹¬ ì‹œë‚˜ë¦¬ì˜¤ ìœ„ì£¼ë¡œ.

---

## 1. í…ŒìŠ¤íŠ¸ ë ˆë²¨ ë° ë„êµ¬

| êµ¬ë¶„ | ë„êµ¬ | ë²”ìœ„ | ì‹¤í–‰ ì‹œì  |
|------|------|------|----------|
| **Frontend Unit** | **Vitest** | ì»´í¬ë„ŒíŠ¸, ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ | PR ìƒì„± ì‹œ |
| **Backend Unit** | **Jest** | Service ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ | PR ìƒì„± ì‹œ |
| **Integration** | **Jest (Supertest)** | API ì—”ë“œí¬ì¸íŠ¸ ìš”ì²­/ì‘ë‹µ | ë°°í¬ ì „ (CI) |
| **E2E** | **Playwright** | ì£¼ìš” ì‚¬ìš©ìž ì‹œë‚˜ë¦¬ì˜¤ (ê°€ìž…~ì—…ë¡œë“œ) | ë¦´ë¦¬ì¦ˆ ì „ |

---

## 2. ëª¨ë“ˆë³„ í…ŒìŠ¤íŠ¸ ì „ëžµ

### 2.1 Backend (NestJS)
- **Unit Testing**:
    - ëª¨ë“  Service í´ëž˜ìŠ¤ëŠ” `.spec.ts` íŒŒì¼ì„ ê°€ì§
    - Repository ë“± ì™¸ë¶€ ì˜ì¡´ì„±ì€ Mocking ì²˜ë¦¬ (`jest.mock`)
    - ì»¤ë²„ë¦¬ì§€ ëª©í‘œ: **Line coverage 80% ì´ìƒ**
- **Integration Testing**:
    - `test/app.e2e-spec.ts` ì°¸ì¡°
    - ì¸ë©”ëª¨ë¦¬ DB ë˜ëŠ” í…ŒìŠ¤íŠ¸ìš© ê²©ë¦¬ DB ì‚¬ìš© ê¶Œìž¥
    - ì‹¤ì œ HTTP ìš”ì²­ì„ ë‚ ë ¤ Guard, Interceptor, Pipe ë™ìž‘ ê²€ì¦

### 2.2 Frontend (Next.js)
- **Component Testing**:
    - ê³µí†µ ì»´í¬ë„ŒíŠ¸ (`ui/`) ìœ„ì£¼ë¡œ í…ŒìŠ¤íŠ¸ ìž‘ì„±
    - `react-testing-library`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ìž ê´€ì  ë Œë”ë§ ê²€ì¦
- **Hook Testing**:
    - ë³µìž¡í•œ ìƒíƒœ ê´€ë¦¬ê°€ ìžˆëŠ” ì»¤ìŠ¤í…€ í›… í…ŒìŠ¤íŠ¸

---

## 3. CI/CD íŒŒì´í”„ë¼ì¸

GitHub Actions ì›Œí¬í”Œë¡œìš° ë‚´ì—ì„œ í…ŒìŠ¤íŠ¸ê°€ ìžë™ ì‹¤í–‰ë©ë‹ˆë‹¤.

```yaml
# .github/workflows/test.yml ì˜ˆì‹œ
jobs:
  test-backend:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: pnpm install
      - run: pnpm test --filter=apps/api

  test-frontend:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - run: pnpm install
      - run: pnpm test --filter=apps/web
```

---

## 4. í…ŒìŠ¤íŠ¸ ë°ì´í„° ê´€ë¦¬
- **Seed Data**: `prisma/seed.ts`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ìš© ê¸°ì´ˆ ë°ì´í„° ìƒì„±
- **Factory Pattern**: í…ŒìŠ¤íŠ¸ ë‚´ì—ì„œ í•„ìš”í•œ ê°ì²´ë¥¼ ì‰½ê²Œ ìƒì„±í•˜ê¸° ìœ„í•œ íŒ©í† ë¦¬ ì‚¬ìš© ê¶Œìž¥

---

## 5. í•µì‹¬ E2E ì‹œë‚˜ë¦¬ì˜¤
Playwrightë¡œ ë‹¤ìŒ ì‹œë‚˜ë¦¬ì˜¤ëŠ” ë°˜ë“œì‹œ ê²€ì¦í•´ì•¼ í•¨.

1. **íšŒì›ê°€ìž… ë° ë¡œê·¸ì¸ Flow**: ì‹ ê·œ ê°€ìž… -> ë¡œê·¸ì¸ -> ë©”ì¸ íŽ˜ì´ì§€ ì§„ìž…
2. **í”„ë¡œì íŠ¸ ìƒì„± Flow**: í”„ë¡œì íŠ¸ ìƒì„± -> ì˜ìƒ ì—…ë¡œë“œ -> ì™„ë£Œ ë©”ì‹œì§€ í™•ì¸
3. **í”¼ë“œë°± ìž‘ì„± Flow**: ìƒë‹´ì‚¬ ë¡œê·¸ì¸ -> í”„ë¡œì íŠ¸ ì¡°íšŒ -> í”¼ë“œë°± ë‚¨ê¸°ê¸°
