# ⚖️ 기술 스택 비교 및 선정 사유 (Technical Stack Comparison)

> **작성일**: 2026-01-17
> **목표**: 월 $70 예산 내에서 최대 퍼포먼스와 확장성 확보

이 문서는 프로젝트 **"별들에게 물어봐"**의 기술 스택 선정 과정과 대안 기술들과의 비교 분석 내용을 담고 있습니다.

---

## 1. 프론트엔드 (Frontend)

### Next.js (App Router) 선정
| 비교 항목 | **Next.js 15** (선정) | React (SPA) | Remix |
|----------|-------------------|-------------|-------|
| **렌더링** | SSR + RSC (서버 컴포넌트) | CSR (클라이언트) | SSR |
| **SEO** | ⭐⭐⭐ 최적 | ⭐ 낮음 | ⭐⭐⭐ 좋음 |
| **초기 로딩** | ⭐⭐⭐ 빠름 (서버) | ⭐ 느림 (번들) | ⭐⭐⭐ 빠름 |
| **배포** | Vercel 최적화 | S3 정적 호스팅 | 다소 복잡 |

**✅ 선정 이유**: 
- **Server Components**를 통한 초기 로딩 속도 및 SEO 최적화가 필수적임 (서비스 특성상 상담사 프로필 노출 중요).
- Vercel의 서울 PoP를 활용하여 한국 사용자에게 **지연 없는** 경험 제공.

### Zustand 선정 (상태 관리)
| 비교 항목 | **Zustand** (선정) | Redux Toolkit | Recoil |
|----------|-------------------|---------------|--------|
| **번들 사이즈** | **1.1kB** (초경량) | 10kB+ | 20kB+ |
| **러닝 커브** | ⭐⭐⭐ 매우 낮음 | ⭐ 높음 | ⭐⭐ 중간 |
| **보일러플레이트** | 거의 없음 | 많음 | 적음 |

**✅ 선정 이유**: 
- Redux의 복잡도 없이 직관적인 Global State 관리가 가능.
- React Server Component 환경 외부에서도 상태 접근이 용이함.

---

## 2. 백엔드 (Backend)

### NestJS 선정
| 비교 항목 | **NestJS** (선정) | Express | Fastify |
|----------|------------------|---------|---------|
| **아키텍처** | **모듈형 (Angular 스타일)** | 자유로움 (구조 없음) | 빠름, 구조 없음 |
| **확장성** | ⭐⭐⭐ 엔터프라이즈급 | ⭐ 관리에 따름 | ⭐ |
| **TypeScript** | ⭐⭐⭐ First-class | ⭐ 지원 | ⭐ 지원 |

**✅ 선정 이유**: 
- 팀 협업 시 **강제된 아키텍처**가 있어 코드 유지보수에 유리함.
- 다양한 미들웨어(Auth, Validation 등)가 규격화되어 있어 개발 속도 향상.

### Prisma ORM 선정
| 비교 항목 | **Prisma** (선정) | TypeORM | Drizzle |
|----------|------------------|---------|---------|
| **Type Safety** | ⭐⭐⭐ 완벽 (Generators) | ⭐⭐ 좋음 | ⭐⭐⭐ 완벽 |
| **DX (경험)** | ⭐⭐⭐ 직관적 Schema | ⭐ 복잡 (Decorators) | ⭐⭐ SQL 유사 |
| **생태계** | 매우 큼 | 큼 | 성장 중 |

**✅ 선정 이유**: 
- 가장 강력한 **타입 안정성** 제공으로 런타임 에러 최소화.
- `schema.prisma` 파일 하나로 DB 구조를 한눈에 파악 가능하여 유지보수 용이.

---

## 3. 인프라 및 비용 (Infrastructure)

### Cloudflare R2 (영상 스토리지)
| 비교 항목 | **Cloudflare R2** (선정) | AWS S3 | Google Cloud Storage |
|----------|---------------------|--------|---------------------|
| **스토리지 비용** | $0.015 / GB | $0.023 / GB | $0.020 / GB |
| **Egress (대역폭)** | **$0 (무료)** | $0.09 / GB (비쌈) | $0.12 / GB (비쌈) |

**✅ 선정 이유**: 
- 영상 플랫폼 특성상 대역폭 비용이 가장 큼. **Egress 비용 무료** 정책은 AWS S3 대비 **연간 수백만원 이상 절감** 효과.

### Supabase (Database)
| 비교 항목 | **Supabase** (선정) | AWS RDS | PlanetScale |
|----------|--------------------|---------|-------------|
| **비용 (Pro)** | **$25/월** | $50+/월 | $39+/월 |
| **기능** | DB + Auth + Realtime | DB only | DB (MySQL) |
| **한국 리전** | ✅ 서울 지원 | ✅ 지원 | ❌ 미지원 (도쿄) |

**✅ 선정 이유**: 
- 관리형 PostgreSQL 뿐만 아니라 **강력한 인증(Auth)** 시스템 내장.
- 서울 리전을 지원하며 가격 대비 성능비(가성비)가 가장 우수함.

---

## 4. 모니터링 (Monitoring)

### Sentry + BetterStack
- **Sentry**: 프론트/백엔드 런타임 에러 추적의 표준. 무료 티어(월 5k 에러)로 초기 충분.
- **BetterStack**: 서버 다운타임 감지 및 심플한 로그 모니터링.

---

## 5. 결론

이 기술 스택은 **"월 $70 유지비"**라는 제약 조건 하에서 **"엔터프라이즈급 안정성"**과 **"최상의 개발자 경험(DX)"**을 동시에 달성하기 위해 설계되었습니다.

- **안전성**: TypeScript + NestJS + Prisma
- **속도**: Next.js + Vercel
- **비용 효율**: Cloudflare R2 + Supabase
