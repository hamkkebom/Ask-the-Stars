# 🔄 워크플로우

> Ask the Stars 플랫폼 핵심 업무 프로세스

---

## 📋 제작요청 워크플로우

```mermaid
graph TD
    A[Moon: 제작요청 등록] --> B{독점/중복}
    B -->|독점| C[1명만 수락 가능]
    B -->|중복| D[N명까지 수락]

    C --> E[Star: 요청 수락]
    D --> E

    E --> F[Star: 버전 1 업로드]
    F --> G[Moon: 검수]

    G -->|승인| H[완료]
    G -->|수정요청| I[Star: 피드백 확인]
    I --> J[Star: 버전 N 업로드]
    J --> G
```

### 단계별 설명

| # | 담당자 | 액션 | 페이지 |
|---|--------|------|--------|
| 1 | Moon 관리 | 제작요청 등록 | `/moon/management/project-requests/create` |
| 2 | Star | 게시판에서 요청 확인 | `/stars/project-board` |
| 3 | Star | 요청 수락 | `/stars/request-detail/[id]` |
| 4 | Star | 영상 업로드 (버전 1~5) | `/stars/upload` |
| 5 | Moon 피드백 | 영상 검수 | `/moon/feedback/video-review/[id]` |
| 6 | Star | 피드백 확인 및 수정 | `/stars/feedback` |
| 7 | Moon 피드백 | 최종 승인/반려 | `/moon/feedback/review-queue` |

---

## 🎬 다중 버전 제출 워크플로우

```mermaid
graph LR
    A[수락] --> B[슬롯 1: 밝은 톤]
    A --> C[슬롯 2: 차분한 톤]
    A --> D[슬롯 3: 감성적]
    A --> E[슬롯 4: ...]
    A --> F[슬롯 5: ...]

    B --> G[검수]
    C --> G
    D --> G
```

### 버전 슬롯 규칙

1. 프리랜서는 **1~5개** 버전 제출 가능
2. 각 슬롯은 고유한 **버전 제목** 부여 (예: "경쾌한 톤")
3. 각 슬롯 내에서 **리비전** 가능 (v1.0 → v1.1)
4. 독립적으로 승인/반려 처리

---

## 💬 피드백 워크플로우

```mermaid
sequenceDiagram
    participant M as Moon 피드백팀
    participant S as Star (프리랜서)

    M->>M: 영상 재생
    M->>M: 타임스탬프 피드백 추가
    M->>M: 화면 마킹 (Annotation)
    M->>S: 피드백 전송

    S->>S: 피드백 목록 확인
    S->>S: 타임스탬프로 해당 구간 이동
    S->>S: 수정 작업
    S->>M: 수정본 업로드

    M->>M: 재검수
    M->>S: 피드백 해결 처리
```

### 피드백 유형

| 유형 | 설명 | 예시 |
|------|------|------|
| 자막 | 자막 위치, 크기, 오타 | "10초~15초 자막 위치 조정" |
| BGM | 배경음악 볼륨, 선곡 | "BGM 30% 낮춰주세요" |
| 컷편집 | 장면 전환, 길이 | "인트로 3초 더 짧게" |
| 색보정 | 색감, 밝기 | "전체적으로 밝게 보정" |

---

## 💰 정산 워크플로우

### 1차 정산 (제작비)

```mermaid
graph TD
    A[영상 승인] --> B[정산 항목 생성]
    B --> C[Moon 정산팀 확인]
    C --> D[일괄 승인]
    D --> E[지급 처리]
    E --> F[Star에게 알림]
```

| 타이밍 | 조건 | 금액 |
|--------|------|------|
| 영상 승인 직후 | 승인된 버전당 | 예상 예산 (제작요청에 명시) |

### 2차 정산 (인센티브)

```mermaid
graph TD
    A[분기 종료] --> B[성과 집계]
    B --> C[인센티브 계산]
    C --> D[Moon 정산팀 검토]
    D --> E[일괄 승인]
    E --> F[지급 처리]
```

| 기준 | 보너스 |
|------|--------|
| 조회수 10K+ | +₩10,000 |
| 조회수 50K+ | +₩30,000 |
| 전환율 5%+ | +₩30,000 |
| 분기 MVP | +₩100,000 |

---

## 📣 광고 캠페인 워크플로우

```mermaid
graph TD
    A[승인된 영상] --> B[캠페인 생성]
    B --> C[플랫폼 선택]
    C --> D[예산 설정]
    D --> E[기간 설정]
    E --> F[캠페인 시작]

    F --> G[성과 추적]
    G --> H{목표 도달?}
    H -->|Yes| I[캠페인 종료]
    H -->|No| J[예산 조정/연장]
    J --> G
```

### 성과 지표

| 지표 | 설명 | 목표 |
|------|------|------|
| Views | 조회수 | 높을수록 좋음 |
| CTR | 클릭률 | 3% 이상 |
| CPC | 클릭당 비용 | ₩200 이하 |
| Conversions | 전환 (상담 예약) | 높을수록 좋음 |
| CPA | 전환당 비용 | ₩5,000 이하 |

---

## 🔮 상담사 영상 요청 워크플로우

```mermaid
graph TD
    A[상담사: 영상 요청] --> B[Moon 관리팀 확인]
    B --> C[제작요청 등록]
    C --> D[Star 수락]
    D --> E[제작 진행]
    E --> F[영상 완성]
    F --> G[상담사 확인]
    G --> H[공개 게시]
```

### 요청 폼 단계

1. **Step 1**: 기본 정보 (컨셉, 타겟)
2. **Step 2**: 스타일 선택 (밝은/차분/감성)
3. **Step 3**: 확인 및 제출
